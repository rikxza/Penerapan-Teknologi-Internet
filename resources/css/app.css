@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================
   ANIMATION PERFORMANCE OPTIMIZATIONS
   ========================================== */

/* Global smooth scrolling */
html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}

/* GPU Acceleration for animated elements */
.gpu-accelerate {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
}

/* Optimized transitions - use cubic-bezier for smoother feel */
@layer utilities {
    .transition-smooth {
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .transition-bounce {
        transition-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    
    .transition-spring {
        transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
}

/* Hardware acceleration for common animated properties */
a, button, .card, .glass-card, aside, header, 
[class*="hover:"], [class*="transition"] {
    transform: translateZ(0);
    will-change: transform, opacity;
    backface-visibility: hidden;
}

/* Optimized hover states - reduce repaints */
a:hover, button:hover {
    transform: translateZ(0);
}

/* Smooth fade animations */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translate3d(0, 10px, 0);
    }
    to {
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translate3d(0, 20px, 0);
    }
    to {
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translate3d(-20px, 0, 0);
    }
    to {
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale3d(0.95, 0.95, 1);
    }
    to {
        opacity: 1;
        transform: scale3d(1, 1, 1);
    }
}

@keyframes pulse-soft {
    0%, 100% {
        opacity: 1;
        transform: scale3d(1, 1, 1);
    }
    50% {
        opacity: 0.85;
        transform: scale3d(1.02, 1.02, 1);
    }
}

/* Animation utility classes */
.animate-fade-in {
    animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-fade-in-up {
    animation: fadeInUp 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-slide-in {
    animation: slideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-scale-in {
    animation: scaleIn 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.animate-pulse-soft {
    animation: pulse-soft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Staggered animation delays */
.delay-75 { animation-delay: 75ms; }
.delay-100 { animation-delay: 100ms; }
.delay-150 { animation-delay: 150ms; }
.delay-200 { animation-delay: 200ms; }
.delay-300 { animation-delay: 300ms; }
.delay-400 { animation-delay: 400ms; }
.delay-500 { animation-delay: 500ms; }

/* Optimized blob animations for auth pages */
@keyframes blob-float {
    0%, 100% {
        transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
    }
    33% {
        transform: translate3d(15px, -20px, 0) scale3d(1.05, 0.95, 1);
    }
    66% {
        transform: translate3d(-10px, 15px, 0) scale3d(0.95, 1.05, 1);
    }
}

@keyframes blob-morph {
    0%, 100% {
        border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
        transform: rotate3d(0, 0, 1, 0deg);
    }
    50% {
        border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
        transform: rotate3d(0, 0, 1, 180deg);
    }
}

.animate-blob-float {
    animation: blob-float 8s cubic-bezier(0.4, 0, 0.2, 1) infinite;
    will-change: transform;
}

.animate-blob-morph {
    animation: blob-morph 12s cubic-bezier(0.4, 0, 0.2, 1) infinite;
    will-change: border-radius, transform;
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    html {
        scroll-behavior: auto;
    }
}

/* Chart.js canvas optimization */
canvas {
    image-rendering: optimizeSpeed;
    image-rendering: -moz-crisp-edges;
    image-rendering: -webkit-optimize-contrast;
}

/* Glass effect optimization */
.glass-sidebar,
.glass-header,
.glass-card {
    transform: translateZ(0);
    will-change: backdrop-filter;
    backface-visibility: hidden;
}

/* Optimized dark mode transitions */
.dark * {
    transition-property: background-color, border-color, color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
}

/* Button hover optimization */
button, a {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
}

/* Card hover effects - GPU accelerated */
.hover-lift {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.hover-lift:hover {
    transform: translate3d(0, -4px, 0);
}

/* Smooth number counter animation */
@keyframes countUp {
    from {
        opacity: 0;
        transform: translate3d(0, 10px, 0);
    }
    to {
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }
}

.animate-count {
    animation: countUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* Progress bar smooth fill */
.progress-smooth {
    transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Skeleton loading animation */
@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }
    100% {
        background-position: 200% 0;
    }
}

.skeleton {
    background: linear-gradient(90deg, 
        rgba(255,255,255,0) 0%, 
        rgba(255,255,255,0.2) 50%, 
        rgba(255,255,255,0) 100%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
}
